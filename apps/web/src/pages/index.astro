---
import { Button } from '@alexgodfrey/ui/components/ui/button';
import { Kbd } from '@alexgodfrey/ui/components/ui/kbd';
import Layout from '@alexgodfrey/web/layouts/BaseLayout.astro';
import OptimalityCard from '../components/conquer/optimality-card';
import BedroomHumidity from '../components/grid/bedroom-humidity.astro';
import { HumanOrMachine } from '../components/human-or-machine';
import ProfileCard from '../components/profile-card.astro';
import { Logo, Logos } from '../components/utilities/logo';
import type { Cell } from '../types';

export const prerender = true;
const cells: Cell[] = [
  { width: 1, height: 200, id: 'cellpaint' },
  { width: 2, height: 200, id: '' },
  { width: 1, height: 120, id: 'blog-post' },
  { width: 1, height: 180, id: '' },
  { width: 2, height: 120, id: 'bedroom-humidity' },
  { width: 2, height: 160, id: '' },
  { width: 2, height: 300, id: 'chatdb-test' },
  { width: 1, height: 190, id: '' },
  { width: 2, height: 500, id: 'conquer-biomark' },
  { width: 1, height: 260, id: '' },
  { width: 1, height: 180, id: '' },
  { width: 3, height: 120, id: '' },
  { width: 1, height: 160, id: '' },
];
---

<Layout>
  <div class="relative w-full min-h-[300vh] bg-background flex flex-col">
    <div class="lg:mt-24 mx-24 flex flex-col space-y-8">
      <div
        class="font-mono border-l border-muted-foreground/30 text-muted-foreground/80 text-sm flex px-8 items-center gap-2"
      >
        <!-- <csIcon name="arrowUpRight" /> -->
        <p>Fullstack Developer</p>
      </div>
      <div
        class="px-8 border-muted-foreground/30 border-l border-r flex flex-col space-y-2 py-1 lg:relative"
      >
        <h1 class="font-mono font-bold md:text-3xl text-muted-foreground">Alex Godfrey</h1>
        <p class="font-medium text-muted-foreground/80">
          Formally trained in mathematics, computer science, and neuroscience.
        </p>
        <p class="font-medium text-muted-foreground/80">
          Focused on engineering solutions for longevity.
        </p>
        <div class="flex mt-1 gap-4 items-center">
          <Button variant="outline" className="uppercase font-mono shadow-none"
            >View Work<Kbd className="ml-1">W</Kbd>
          </Button>
          <Button variant="outline" className="uppercase font-mono shadow-none"
            >Contact<Kbd className="ml-1">C</Kbd>
          </Button>
        </div>
        <div class="absolute right-2 h-full flex-col-reverse flex items-center justify-around">
          <Logo name={Logos.Swift} className="size-4" />
          <Logo name={Logos.Astro} className="size-4" />
          <Logo name={Logos.ReactRouter} className="size-4" />
          <Logo name={Logos.Next} className="size-4" />
          <Logo name={Logos.Tailwind} className="size-4" />
          <Logo name={Logos.React} className="size-4" />
          <Logo name={Logos.TypeScript} className="size-4" />
        </div>
        <p
          class="uppercase absolute -right-9 top-17 rotate-90 font-mono text-muted-foreground/80 text-sm"
        >
          Skills
        </p>
      </div>
      <div class="px-8 mt-12 border-l border-r border-muted-foreground/30 grid-rows-3">
        <div class="grid grid-cols-2">
          <div class="h-60 flex flex-col border">
            <BedroomHumidity
              queryType="humidity"
              serial="bedroomSerial"
              label="Humidity"
              location="Bedroom"
              server:defer
            >
              <OptimalityCard
                slot="fallback"
                label="Humidity"
                description="Bedroom"
                statusLabel="Loading"
                optimality="optimal"
                value="scramble"
                ranges={[
                  { label: 'Too Dry', color: 'bg-red-500', min: 0, max: 40 },
                  { label: 'Optimal', color: 'bg-green-500', min: 40, max: 60, progress: 0.5 },
                  { label: 'Mold Risk', color: 'bg-red-500', min: 60, max: 100 },
                ]}
              />
            </BedroomHumidity>

            <BedroomHumidity
              queryType="co2"
              serial="bedroomSerial"
              label="CO₂"
              location="Living Room"
              server:defer
            >
              <OptimalityCard
                slot="fallback"
                label="CO₂"
                description="Living Room"
                statusLabel="Loading"
                optimality="optimal"
                value="scramble"
                ranges={[
                  { label: 'Too High', color: 'bg-red-500', min: 600, max: 5000 },
                  { label: 'Optimal', color: 'bg-green-500', min: 0, max: 600, progress: 0.5 },
                ]}
              />
            </BedroomHumidity>

            <BedroomHumidity
              queryType="radon"
              serial="studioSerial"
              label="Radon"
              location="Studio"
              server:defer
            >
              <OptimalityCard
                slot="fallback"
                label="Radon"
                description="Studio"
                statusLabel="Loading"
                optimality="optimal"
                value="scramble"
                ranges={[
                  { label: 'Safe', color: 'bg-green-500', min: 0, max: 100, progress: 0.5 },
                  { label: 'Elevated', color: 'bg-yellow-500', min: 100, max: 300 },
                  { label: 'High Risk', color: 'bg-red-500', min: 300, max: 1000 },
                ]}
              />
            </BedroomHumidity>
          </div>
          <div class="h-60 border">Two blog posts here</div>
        </div>
        <div class="grid grid-cols-5">
          <div class="border col-span-2 grid grid-rows-2">
            <div class="border-r">Altum labs here</div>
            <!-- video that autoplays and loops -->
            <div class="border pt-2">
              <video
                src="/videos/cellpaint.mp4"
                autoplay
                loop
                muted
                playsinline
                class="w-full h-full object-cover"></video>
            </div>
          </div>
          <div class="border col-span-2">
            <div class="grid-cols-2">
              <img src="/images/conquer-biomark.png" alt="Conquer Biomark" />
              <div class="border-t">ChatDB here</div>
            </div>
          </div>
          <div class="border"><img src="/images/121health.webp" alt="Conquer Biomark" /></div>
        </div>
        <div class="grid grid-cols-3">
          <div class="h-20 border"></div>
          <div class="h-20 border">Altum Labs Here</div>
          <ProfileCard />
        </div>
      </div>
      <div class="mt-24">
        <div class="border-l border-muted-foreground/30 pl-8 border-r">
          <h1 class="font-mono font-bold md:text-3xl text-muted-foreground mt-24">OneTwentyOne</h1>
          <p class="font-medium text-muted-foreground/80 mt-2">
            Longevity Company in partnership with Michael Lustgarten
          </p>
        </div>
      </div>
      <div>
        <div>
          <h1 class="font-mono font-bold md:text-3xl text-muted-foreground mt-24">
            thiscellpaintingdoesnotexist.com
          </h1>
          <p class="font-medium text-muted-foreground/80 mt-2"></p>
        </div>
      </div>
    </div>
    <!-- <MasonryGrid cells={cells} className="p-2" columns={4} gap={8} /> -->
    <!-- <ProfileCard /> -->
    <!-- Add extra content to ensure scrolling works -->
    <div class="h-screen"></div>
  </div>
  <div class="fixed bottom-4 left-[calc(50%-6rem)]">
    <HumanOrMachine defaultValue="human" machineLink="/blog/ai" humanLink="/" client:load />
  </div>
</Layout>
