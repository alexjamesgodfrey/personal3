---
import Layout from '@alexgodfrey/web/layouts/BaseLayout.astro';
import MasonryGrid from '../components/grid/masonry.astro';
import { Logo, Logos } from '../components/utilities/logo';
import type { Cell } from '../types';

export const prerender = true;

const cells: Cell[] = [
  { width: 1, height: 200, id: 'cellpaint' },
  { width: 2, height: 200, id: '' },
  { width: 1, height: 120, id: '' },
  { width: 1, height: 180, id: '' },
  { width: 2, height: 120, id: 'bedroom-humidity' },
  { width: 1, height: 220, id: '' },
  { width: 2, height: 160, id: '' },
  { width: 1, height: 190, id: '' },
  { width: 2, height: 130, id: '' },
  { width: 1, height: 170, id: '' },
  { width: 1, height: 260, id: '' },
  { width: 2, height: 150, id: '' },
  { width: 1, height: 180, id: '' },
  { width: 3, height: 120, id: '' },
  { width: 1, height: 160, id: '' },
];
---

<Layout>
  <div class="relative w-full h-screen overflow-hidden bg-background">
    <!--
      No layout shift:
      - MasonryGrid does all packing up-front with percentages horizontally,
        so it doesn't need to measure on the client.
      - Absolute-positioned children use computed px heights; bottom items stretch
        to eliminate remaining blank space vertically.
    -->
    <MasonryGrid cells={cells} className="absolute inset-0 overflow-auto p-2" columns={4} gap={8} />

    <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
      <div
        class="bg-background/95 backdrop-blur-sm p-8 rounded-xl border-2 border-border shadow-2xl pointer-events-auto"
      >
        <div class="absolute flex items-center gap-1 top-1 left-1">
          <Logo name={Logos.SHV} className="w-6 h-4" />
          <a href="https://conquer.onetwentyone.ai">
            <Logo name={Logos.OneTwentyOne} className="size-4.5" />
          </a>
          <a href="/resources/Letter%20of%20rec%20for%20Alex.pdf">
            <Logo
              name={Logos.Altum}
              className="size-5 text-green-500 cursor-pointer hover:text-green-600"
            />
          </a>
          <Logo name={Logos.Cornell} className="size-4" />
        </div>
        <h1 class="font-mono font-semibold text-2xl text-foreground">Alex Godfrey</h1>
        <p class="font-mono text-sm text-muted-foreground font-semibold">Fullstack // Bio</p>
        <div class="absolute bottom-6 right-1 grid-rows-8 space-y-1">
          <Logo name={Logos.Bun} className="size-4" />
          <Logo name={Logos.AWS} className="size-4" />
          <Logo name={Logos.PostgreSQL} className="size-4" />
        </div>
        <!-- fill the grid reverse -->
        <div class="absolute bottom-1 right-1 grid grid-cols-8 gap-1 grid-column-start">
          <Logo name={Logos.Swift} className="size-4" />
          <Logo name={Logos.Sentry} className="size-4" />
          <Logo name={Logos.Astro} className="size-4" />
          <Logo name={Logos.ReactRouter} className="size-4" />
          <Logo name={Logos.Next} className="size-4" />
          <Logo name={Logos.Tailwind} className="size-4" />
          <Logo name={Logos.React} className="size-4" />
          <Logo name={Logos.TypeScript} className="size-4" />
        </div>
      </div>
    </div>
  </div>
</Layout>
